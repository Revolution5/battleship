(()=>{"use strict";class i{constructor(i){this.length=i,this.hits=0,this.sunk=!1}get length(){return this._length}set length(i){this._length=i}hit(){this.hits+=1,this.isSunk()}isSunk(){this.hits==this.length&&(this.sunk=!0)}}class t{constructor(){this.board=[new Array(10).fill(null).map((()=>({ship:null,isHit:!1}))),new Array(10).fill(null).map((()=>({ship:null,isHit:!1}))),new Array(10).fill(null).map((()=>({ship:null,isHit:!1}))),new Array(10).fill(null).map((()=>({ship:null,isHit:!1}))),new Array(10).fill(null).map((()=>({ship:null,isHit:!1}))),new Array(10).fill(null).map((()=>({ship:null,isHit:!1}))),new Array(10).fill(null).map((()=>({ship:null,isHit:!1}))),new Array(10).fill(null).map((()=>({ship:null,isHit:!1}))),new Array(10).fill(null).map((()=>({ship:null,isHit:!1}))),new Array(10).fill(null).map((()=>({ship:null,isHit:!1})))],this.ships=[]}placeShip(t,l,e){if(null==this.board[t][l].ship){let s=new i(e);this.ships.push(s);for(let i=l;i<l+e;i++)this.board[t][i].ship=s}}receiveAttack(i,t){null!=this.board[i][t].ship?(this.board[i][t].ship.hit(),this.board[i][t].isHit=!0):null==this.board[i][t].ship&&(this.board[i][t].isHit=!0)}allShipsSunk(){if(this.ships.every((i=>1==i.sunk)))return!0}}class l{constructor(i){this.isComputer=i,this.gameboard=new t}generateCoord(){return Math.floor(10*Math.random())}takeTurn(i,t,l){i.receiveAttack(t,l)}takeTurnAI(i){let t=0,l=0,e=!0;for(;e;)t=this.generateCoord(),l=this.generateCoord(),0==i.board[t][l].isHit&&(i.receiveAttack(t,l),e=!1)}}let e=new l(!1),s=new l(!0),r=document.querySelector(".human-grid"),n=document.querySelector(".computer-grid");function a(){h(r);for(let i=0;i<10;i++)for(let t=0;t<10;t++)if(null==e.gameboard.board[i][t].ship&&0==e.gameboard.board[i][t].isHit){let l=document.createElement("div");l.classList.add("square"),l.setAttribute("id",i.toString()+t.toString()),r.appendChild(l)}else if(null!=e.gameboard.board[i][t].ship&&0==e.gameboard.board[i][t].isHit){let l=document.createElement("div");l.classList.add("square-ship"),l.setAttribute("id",i.toString()+t.toString()),r.appendChild(l)}}function h(i){for(;i.firstChild;)i.removeChild(i.firstChild)}a(),function(){h(n);for(let i=0;i<10;i++)for(let t=0;t<10;t++)if(null==s.gameboard.board[i][t].ship&&0==s.gameboard.board[i][t].isHit){let l=document.createElement("div");l.classList.add("square"),l.setAttribute("id",i.toString()+t.toString()),n.appendChild(l)}}(),e.gameboard.placeShip(0,1,4),e.gameboard.placeShip(2,3,5),a()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFVbEIsTUFBTVksR0FBR3VCLEdBQUc5QixNQUFnQixDQUM3RixJQUFJK0IsRUFBU04sU0FBU08sY0FBYyxPQUNwQ0QsRUFBT0UsVUFBVUMsSUFBSSxVQUNyQkgsRUFBT0ksYUFBYSxLQUFNNUIsRUFBRTZCLFdBQWFOLEVBQUVNLFlBQzNDVCxFQUFhVSxZQUFZTixJQWNyQ1MsR0FFQWxCLEVBQU1ULFVBQVVYLFVBQVUsRUFBRSxFQUFFLEdBQzlCb0IsRUFBTVQsVUFBVVgsVUFBVSxFQUFFLEVBQUUsR0FDOUIwQixLIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9zaGlwLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvZ2FtZWJvYXJkLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvcGxheWVyLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvZ2FtZUNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNsYXNzIFNoaXAge1xuICAgIGNvbnN0cnVjdG9yKGxlbmd0aCkge1xuICAgICAgICB0aGlzLmxlbmd0aCA9IGxlbmd0aDtcbiAgICAgICAgdGhpcy5oaXRzID0gMDtcbiAgICAgICAgdGhpcy5zdW5rID0gZmFsc2U7XG4gICAgfVxuXG4gICAgZ2V0IGxlbmd0aCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xlbmd0aDtcbiAgICB9XG5cbiAgICBzZXQgbGVuZ3RoKGxlbmd0aCkge1xuICAgICAgICB0aGlzLl9sZW5ndGggPSBsZW5ndGg7XG4gICAgfVxuXG4gICAgaGl0KCkge1xuICAgICAgICB0aGlzLmhpdHMgKz0gMTtcbiAgICAgICAgdGhpcy5pc1N1bmsoKTtcbiAgICB9XG5cbiAgICBpc1N1bmsoKSB7XG4gICAgICAgIGlmKHRoaXMuaGl0cyA9PSB0aGlzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5zdW5rID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IFNoaXAgfSBmcm9tIFwiLi9zaGlwXCI7XG5cbmV4cG9ydCBjbGFzcyBHYW1lYm9hcmQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmJvYXJkID0gW1xuICAgICAgICAgICAgbmV3IEFycmF5KDEwKS5maWxsKG51bGwpLm1hcCgoKSA9PiAoe3NoaXA6IG51bGwsIGlzSGl0OiBmYWxzZX0pKSxcbiAgICAgICAgICAgIG5ldyBBcnJheSgxMCkuZmlsbChudWxsKS5tYXAoKCkgPT4gKHtzaGlwOiBudWxsLCBpc0hpdDogZmFsc2V9KSksXG4gICAgICAgICAgICBuZXcgQXJyYXkoMTApLmZpbGwobnVsbCkubWFwKCgpID0+ICh7c2hpcDogbnVsbCwgaXNIaXQ6IGZhbHNlfSkpLFxuICAgICAgICAgICAgbmV3IEFycmF5KDEwKS5maWxsKG51bGwpLm1hcCgoKSA9PiAoe3NoaXA6IG51bGwsIGlzSGl0OiBmYWxzZX0pKSxcbiAgICAgICAgICAgIG5ldyBBcnJheSgxMCkuZmlsbChudWxsKS5tYXAoKCkgPT4gKHtzaGlwOiBudWxsLCBpc0hpdDogZmFsc2V9KSksXG4gICAgICAgICAgICBuZXcgQXJyYXkoMTApLmZpbGwobnVsbCkubWFwKCgpID0+ICh7c2hpcDogbnVsbCwgaXNIaXQ6IGZhbHNlfSkpLFxuICAgICAgICAgICAgbmV3IEFycmF5KDEwKS5maWxsKG51bGwpLm1hcCgoKSA9PiAoe3NoaXA6IG51bGwsIGlzSGl0OiBmYWxzZX0pKSxcbiAgICAgICAgICAgIG5ldyBBcnJheSgxMCkuZmlsbChudWxsKS5tYXAoKCkgPT4gKHtzaGlwOiBudWxsLCBpc0hpdDogZmFsc2V9KSksXG4gICAgICAgICAgICBuZXcgQXJyYXkoMTApLmZpbGwobnVsbCkubWFwKCgpID0+ICh7c2hpcDogbnVsbCwgaXNIaXQ6IGZhbHNlfSkpLFxuICAgICAgICAgICAgbmV3IEFycmF5KDEwKS5maWxsKG51bGwpLm1hcCgoKSA9PiAoe3NoaXA6IG51bGwsIGlzSGl0OiBmYWxzZX0pKVxuICAgICAgICBdXG5cbiAgICAgICAgdGhpcy5zaGlwcyA9IFtdXG4gICAgfVxuXG4gICAgLy8gZmlsbEJvYXJkKCkge1xuICAgIC8vICAgICBmb3IobGV0IGkgPSAwOyBpIDwgMTA7IGkrKykge1xuICAgIC8vICAgICAgICAgbGV0IGFyciA9IG5ldyBBcnJheSgxMCk7XG4gICAgLy8gICAgICAgICB0aGlzLmJvYXJkW2ldID0gYXJyO1xuICAgIC8vICAgICAgICAgZm9yKGxldCBqID0gMDsgaiA8IDEwOyBqKyspIHtcbiAgICAvLyAgICAgICAgICAgICBhcnJbal0gPSB7c2hpcDogbnVsbCwgaXNIaXQ6IGZhbHNlfTtcbiAgICAvLyAgICAgICAgIH1cbiAgICAvLyAgICAgfVxuICAgIC8vIH1cblxuICAgIHBsYWNlU2hpcCh4UG9zLCB5UG9zLCBsZW5ndGgpIHtcbiAgICAgICAgaWYodGhpcy5ib2FyZFt4UG9zXVt5UG9zXS5zaGlwID09IG51bGwpIHtcbiAgICAgICAgICAgIGxldCBuZXdTaGlwID0gbmV3IFNoaXAobGVuZ3RoKTtcbiAgICAgICAgICAgIHRoaXMuc2hpcHMucHVzaChuZXdTaGlwKTtcbiAgICAgICAgICAgIC8vaG9yaXpvbnRhbCBzaGlwXG4gICAgICAgICAgICBmb3IobGV0IGkgPSB5UG9zOyBpIDwgeVBvcyArIGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ib2FyZFt4UG9zXVtpXS5zaGlwID0gbmV3U2hpcDsgICBcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlY2VpdmVBdHRhY2soeFBvcywgeVBvcykge1xuICAgICAgICAvL2lmIHRoZSBzcXVhcmUgaGFzIGEgc2hpcCBvbiBpdFxuICAgICAgICBpZih0aGlzLmJvYXJkW3hQb3NdW3lQb3NdLnNoaXAgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5ib2FyZFt4UG9zXVt5UG9zXS5zaGlwLmhpdCgpO1xuICAgICAgICAgICAgdGhpcy5ib2FyZFt4UG9zXVt5UG9zXS5pc0hpdCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgLy9pZiB0aGVyZSBzcXVhcmUgZG9lcyBub3QgaGF2ZSBhIHNoaXAgb24gaXRcbiAgICAgICAgZWxzZSBpZih0aGlzLmJvYXJkW3hQb3NdW3lQb3NdLnNoaXAgPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5ib2FyZFt4UG9zXVt5UG9zXS5pc0hpdCA9IHRydWU7ICAgXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhbGxTaGlwc1N1bmsoKSB7XG4gICAgICAgIGlmKHRoaXMuc2hpcHMuZXZlcnkoc2hpcCA9PiBzaGlwLnN1bmsgPT0gdHJ1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxufSIsImltcG9ydCB7IEdhbWVib2FyZCB9IGZyb20gXCIuL2dhbWVib2FyZFwiO1xuXG5leHBvcnQgY2xhc3MgUGxheWVyIHtcbiAgICBjb25zdHJ1Y3Rvcihpc0NvbXB1dGVyKSB7XG4gICAgICAgIHRoaXMuaXNDb21wdXRlciA9IGlzQ29tcHV0ZXI7XG4gICAgICAgIHRoaXMuZ2FtZWJvYXJkID0gbmV3IEdhbWVib2FyZDtcbiAgICB9XG5cbiAgICBnZW5lcmF0ZUNvb3JkKCkge1xuICAgICAgICAvL3JhbmRvbSBudW1iZXIgYmV0d2VlbiAwIGFuZCA5XG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMCk7XG4gICAgfVxuXG4gICAgdGFrZVR1cm4oZW5lbXlHYW1lYm9hcmQsIHhQb3MsIHlQb3MpIHtcbiAgICAgICAgZW5lbXlHYW1lYm9hcmQucmVjZWl2ZUF0dGFjayh4UG9zLCB5UG9zKTsgXG4gICAgfVxuXG4gICAgdGFrZVR1cm5BSShlbmVteUdhbWVib2FyZCkge1xuICAgICAgICBsZXQgeFBvcyA9IDA7XG4gICAgICAgIGxldCB5UG9zID0gMDtcbiAgICAgICAgbGV0IGtlZXBHb2luZyA9IHRydWU7XG5cbiAgICAgICAgd2hpbGUoa2VlcEdvaW5nKSB7XG4gICAgICAgICAgICB4UG9zID0gdGhpcy5nZW5lcmF0ZUNvb3JkKCk7XG4gICAgICAgICAgICB5UG9zID0gdGhpcy5nZW5lcmF0ZUNvb3JkKCk7XG4gICAgICAgICAgICBpZihlbmVteUdhbWVib2FyZC5ib2FyZFt4UG9zXVt5UG9zXS5pc0hpdCA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGVuZW15R2FtZWJvYXJkLnJlY2VpdmVBdHRhY2soeFBvcywgeVBvcyk7XG4gICAgICAgICAgICAgICAga2VlcEdvaW5nID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59IiwiaW1wb3J0IHsgUGxheWVyIH0gZnJvbSBcIi4vcGxheWVyXCI7XG5cbmV4cG9ydCBsZXQgaHVtYW4gPSBuZXcgUGxheWVyKGZhbHNlKTtcbmV4cG9ydCBsZXQgY29tcHV0ZXIgPSBuZXcgUGxheWVyKHRydWUpO1xuXG5sZXQgaHVtYW5HcmlkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5odW1hbi1ncmlkXCIpO1xubGV0IGNvbXB1dGVyR3JpZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY29tcHV0ZXItZ3JpZFwiKTtcblxuZnVuY3Rpb24gcG9wdWxhdGVQbGF5ZXJCb2FyZCgpIHtcbiAgICBjbGVhckJvYXJkKGh1bWFuR3JpZCk7XG5cbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgMTA7IGkrKykge1xuICAgICAgICBmb3IobGV0IGogPSAwOyBqIDwgMTA7IGorKykge1xuICAgICAgICAgICAgaWYoaHVtYW4uZ2FtZWJvYXJkLmJvYXJkW2ldW2pdLnNoaXAgPT0gbnVsbCAmJiBodW1hbi5nYW1lYm9hcmQuYm9hcmRbaV1bal0uaXNIaXQgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBsZXQgc3F1YXJlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgICAgICBzcXVhcmUuY2xhc3NMaXN0LmFkZChcInNxdWFyZVwiKTtcbiAgICAgICAgICAgICAgICBzcXVhcmUuc2V0QXR0cmlidXRlKFwiaWRcIiwgaS50b1N0cmluZygpICsgai50b1N0cmluZygpKTtcbiAgICAgICAgICAgICAgICBodW1hbkdyaWQuYXBwZW5kQ2hpbGQoc3F1YXJlKTsgICBcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoaHVtYW4uZ2FtZWJvYXJkLmJvYXJkW2ldW2pdLnNoaXAgIT0gbnVsbCAmJiBodW1hbi5nYW1lYm9hcmQuYm9hcmRbaV1bal0uaXNIaXQgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBsZXQgc3F1YXJlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgICAgICBzcXVhcmUuY2xhc3NMaXN0LmFkZChcInNxdWFyZS1zaGlwXCIpO1xuICAgICAgICAgICAgICAgIHNxdWFyZS5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBpLnRvU3RyaW5nKCkgKyBqLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgIGh1bWFuR3JpZC5hcHBlbmRDaGlsZChzcXVhcmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBwb3B1bGF0ZUVuZW15Qm9hcmQoKSB7XG4gICAgY2xlYXJCb2FyZChjb21wdXRlckdyaWQpO1xuXG4gICAgZm9yKGxldCBpID0gMDsgaSA8IDEwOyBpKyspIHtcbiAgICAgICAgZm9yKGxldCBqID0gMDsgaiA8IDEwOyBqKyspIHtcbiAgICAgICAgICAgIGlmKGNvbXB1dGVyLmdhbWVib2FyZC5ib2FyZFtpXVtqXS5zaGlwID09IG51bGwgJiYgY29tcHV0ZXIuZ2FtZWJvYXJkLmJvYXJkW2ldW2pdLmlzSGl0ID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgbGV0IHNxdWFyZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICAgICAgc3F1YXJlLmNsYXNzTGlzdC5hZGQoXCJzcXVhcmVcIik7XG4gICAgICAgICAgICAgICAgc3F1YXJlLnNldEF0dHJpYnV0ZShcImlkXCIsIGkudG9TdHJpbmcoKSArIGoudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgY29tcHV0ZXJHcmlkLmFwcGVuZENoaWxkKHNxdWFyZSk7ICAgXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGNsZWFyQm9hcmQoYm9hcmQpIHtcbiAgICB3aGlsZShib2FyZC5maXJzdENoaWxkKSB7XG4gICAgICAgIGJvYXJkLnJlbW92ZUNoaWxkKGJvYXJkLmZpcnN0Q2hpbGQpO1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0R2FtZSgpIHtcbiAgICBwb3B1bGF0ZVBsYXllckJvYXJkKCk7XG4gICAgcG9wdWxhdGVFbmVteUJvYXJkKCk7XG4gICAgXG4gICAgaHVtYW4uZ2FtZWJvYXJkLnBsYWNlU2hpcCgwLDEsNCk7XG4gICAgaHVtYW4uZ2FtZWJvYXJkLnBsYWNlU2hpcCgyLDMsNSk7XG4gICAgcG9wdWxhdGVQbGF5ZXJCb2FyZCgpO1xufVxuXG5cbiJdLCJuYW1lcyI6WyJTaGlwIiwiY29uc3RydWN0b3IiLCJsZW5ndGgiLCJ0aGlzIiwiaGl0cyIsInN1bmsiLCJfbGVuZ3RoIiwiaGl0IiwiaXNTdW5rIiwiR2FtZWJvYXJkIiwiYm9hcmQiLCJBcnJheSIsImZpbGwiLCJtYXAiLCJzaGlwIiwiaXNIaXQiLCJzaGlwcyIsInBsYWNlU2hpcCIsInhQb3MiLCJ5UG9zIiwibmV3U2hpcCIsInB1c2giLCJpIiwicmVjZWl2ZUF0dGFjayIsImFsbFNoaXBzU3VuayIsImV2ZXJ5IiwiUGxheWVyIiwiaXNDb21wdXRlciIsImdhbWVib2FyZCIsImdlbmVyYXRlQ29vcmQiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJ0YWtlVHVybiIsImVuZW15R2FtZWJvYXJkIiwidGFrZVR1cm5BSSIsImtlZXBHb2luZyIsImh1bWFuIiwiY29tcHV0ZXIiLCJodW1hbkdyaWQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjb21wdXRlckdyaWQiLCJwb3B1bGF0ZVBsYXllckJvYXJkIiwiY2xlYXJCb2FyZCIsImoiLCJzcXVhcmUiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwic2V0QXR0cmlidXRlIiwidG9TdHJpbmciLCJhcHBlbmRDaGlsZCIsImZpcnN0Q2hpbGQiLCJyZW1vdmVDaGlsZCIsInBvcHVsYXRlRW5lbXlCb2FyZCJdLCJzb3VyY2VSb290IjoiIn0=